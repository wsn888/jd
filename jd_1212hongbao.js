/*
[task_local]
åŒåäºŒçº¢åŒ…é¢†å–
0 0 1,4,8,12,16,19 * * * jd_1212red.js, tag=åŒåäºŒçº¢åŒ…é¢†å–, enabled=true
================Loon==============
[Script]
cron "0 0 1,4,8,12,16,19 * * * " script-path=jd_1212red.js,tag=åŒåäºŒçº¢åŒ…é¢†å–
*/
const $ = new Env('åŒåäºŒçº¢åŒ…é¢†å–');
const notify = $.isNode() ? require('./sendNotify') : '';
//Node.jsç”¨æˆ·è¯·åœ¨jdCookie.jså¤„å¡«å†™äº¬ä¸œck;
const jdCookieNode = $.isNode() ? require('./jdCookie.js') : '';
//IOSç­‰ç”¨æˆ·ç›´æ¥ç”¨NobyDaçš„jd cookie
let cookiesArr = [], cookie = '', message;

 var _0xodx='jsjiami.com.v6',_0xodx_=['â€®_0xodx'],_0x2cf9=[_0xodx,'DMKpQ0o+','w7h6wrE=','w59Rw5wPRXbCtcOT','XBENwp/Dvw==','JQhf','fsO7T0gzw5U=','d8KnwpBdwpPDvsKMw5s=','a8K4wp5Mwpo=','wp42EgjCjw==','w5vDiGPDtDs=','DBxMBFc=','BMKpw6nDqTPDj30=','AhvDoSvDqMOdOsOB','eCICS8K7w7jDtOW/kuWnt+OCtOS7o+S5u+i3neWMkg==','P8KRwpUgb0EbQg==','cFcow5vCo8KgwrlG','wqNbw5gawpBZw7HCp8KZRA==','wqbCjFDCm33ChMKd','HGlFBA==','44Of5oyv56Sm44OlecKCwpw8I8Ot5bSj5aW35paJ','ZOiurumHqeaUneeYl+W9s+iNrOWNl8K5w4/DlUEWwrHDnsOdPMO9wqLClhBSBcOew4Ytw6TCtsKswplQGhUdwqQtwplSKcKLwpJtSsO+McOLZGvCjcOjw41P','HgoAw7vDjTnCiSAow57DgmTDqMO0TAkqJELDkC0xwrzCmMO1QnB+bx8/wpnCj8KVw67DqcKjccOgeMO6w4bDtA==','C8KXOsOUXsOIOhwndw==','wqHCnnHCkQ==','MsKXwpkgSEXltoTlpJbmlozDmkfCnA==','5Lu+5Lms6LWf5Y6U','IAlcHSU=','ZOiumemHj+aVoOeYieW/nOiNjuWNucKqwp4jwo1/wqM=','NnIwwpVU','wqvChk5/w53DmEZDaXbCoRTDs8OfwpXCr2rDvHV9RsKMwodwBm12AMOdwofDvWbDjMOBwoXDsMOqBSpeYsKHWHQiwqPDjMKVMgHDlMKzwo4twoxqGGFDw5wJwptuwrwTJXg0AnEVwpxsw6vChCHDk0ByBwvCvsOzH3vDuHVVMMOSUTrDrFHDnMO8YHUQbyjCqEcewp9hCMK1wo/Ci3lLFMOMCg3Co8KswrYTwohqFSwFwqMvMyHDvRbDhTtnwpk4w5VoJMKLamDCoGshNBFswqI6w5HCpMKFwqzDrizDtcO2ZC3CgMK6woLCm8KXw7JswqILF8OYw451woDCoH3CokwXC1/Dgk8bw6sKLsKHwqdTCnjDskPDixjCjCnDlW8NNsKFwqTDoMO7wpQHCsOsw7w=','EWlcAsO5','SsKZCg==','wrM25aSv6LWrw75b5Y+j5ZqPwptm','w6DClVbDtGdfwoA=','JcKYDwY=','N3cgwr9l','w7HDhlTDjjc=','wqrDtywiwr0=','6K625YiI6Zuu5oWs5Z63OMKxwqHDiFHov4PlhYHmo6fkvqnmlZDlhbHlrLB25bmt6K+t6YG66L2b6IW45p635Y6P6I6j5Y27d8KsDcKfcSI=','BcKuw5HDtifCnDx6LMKcw4p8w7h4wqbDj8KBHsONwqJwJsOD','G8KdJsOD','Y8OnHsKSwqohw5LCj8K7JMKLP8KiSMOrwoZtwpDCi8K0w4E=','MsKWDAbCsgnCt8Ktw6c=','VgkawojDgxRqwp3Cr2zCtMOQw6HDkMOzwrh0ZsOBwoXCgjnCvk/DusOyw6nCjgzCvsKZw63Cs8Kiw7zDt8O/w4A5wqLCtMO8SsKKZ0hXwq7ChcO2KXMPXcKuE8KTHntXwpjCo8OgUcOwwpvDkMO4woUDw7F7wrtfJ8OMUU7Dt2oIw5jDl8O7FMOzw7rDvmTCiEk8WgrDqEhQwp1ULMKVw7DCtMKFV8KNwr5fw6vDsD3CnDUoCn3CuBfCrsK9w70QI1bDqsOcw4TCsGzDqsKIAC0RwokrwocbZcK7w7w9wo4sdWAxJcK/w7kbw5ERKXM8w7Baw78ZO8K3wqplwofCosKUw7c6ZMK5EQrDpsKGw5l+dGrCncOawpVhLsO1JMKHQ8ODPl3CrgQNw4kuwolnOcKfFMO7DMKmwrrDvFlcwoZNXyhBwovCuX3Cv0vCp18BFAbDp0EQdUtJwrPCp8Kqw7TCr35obMObwprCtWjDhWTCgMOww6Ykw6s8w7oESMObdgjCjcODwqvDgsKgND3CicKHw5l/w7UjSEspw5xCw6VDQAwfwrM+WDFqVlVFwppPw7zDgsK8cjrCqiw+wrbDgFjDu8OIwpV8w6jDvD3DjkpYUwTCpcKHwrQBIC3DocKMwp7Cti7Cg2Euw4bCmmzDj8KeIMK1wpHChcOCDSLDosOYDMOPHsOIwrLDsg7CgcOUERFzOcOFOGZRSV/Dk8O6w7nDlMO8w4vDocOMGGBwARfDk8OpbTvCmsKAw6Nxw7IKbcKvIH9PVcOdwoULBlcSwoIvbAs2wqECMnLDscKUVhvCszvCrcOYwoxmw4XDsMKNTcKpw6/Dhj48eMOQw4JlNsKYNBVLw6DDqMKOwoI1YsOEwpPCqMOEwq3Cu3DDuMKPwoVRccOOdsOwwpE6w43CncOIwo/Ct0I7X8OF','w57CvWnDtkY=','BgthIQc=','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','d8KVwp/DnmQ=','AB5aPD8=','K8KTABPDr0HCv8K3w6ZQP03DhXxYw4TCp0zCuXJbwq1SwqAAIsKbJ8O1VMOALnQMZcKkZ8KrdsO6MHMfHMOpSR/CpzpswpLClsOofcOnw501ZsKAwqBpBHtbw4bCmcOQwq/DsEQxD09MFXLChcOowo7CjyzCusOAw6TDggvDrkJtwrvDmwrDi1jCtsOaRMO6E0pccMKDwpxlwozCsnABw4t8dAsRXcK/MMKfw7sAMVTCnDnDsBJqfwLCgDnChMOOEcOowrg6woNwKWgrw7nCqMKqw5gCw6EVw5RfwrYAwrfCj8KfMzl5w43CgTvDm8OcVcOew7bDpGApw78bTcKSwqhRYG8bPcO8wpPDlxtCw7zDs8OtOD0Rw7Iiw5DCjBE8woPDqcK9w7nDvMKUw5gSw5XCjMOgDsO+ecO5w50gVhvCjcOwwowNNsO9w7PCmXwWw7TCn2vCvMOcw4nDlsOuK8OgwprDliLCp8KjwrXDicKLw7gXw7LDqsKgw4JICE7DqV7CosOKSsO/w714w4NmM8KPwpN1w6/CscKYJCJsw7LCr2UVRkMkw4bDjMKHwpFFKcOoBlfCtMOewoHDhsOAwprDhcK/w7dfwpzClVLDgsO2ZlV3fsKcw45ww4bCjGjDgMOKw4xLw4LCjsKuUMOywoZ5w4DDhMOHWMOKdAzCpRVfK0Z2NMKKwqEQL8K6WEHCusOYw53DksKwOMKPw7hCGlTDmQRUwrIGwrbDsXotwq8zw4fDhD3DuEPCiVZwwq49w4/Dp8OsdMOnwrfDhyTCocOfw7IYw5cWIXt8esOEw7cEbXM=','ADgkw6zDlg==','d8Kpbm3Dpw==','ERsA','dUE3w5zCug==','wrUEHx/CqA==','w7p5eSHChw==','wr7DiC0=','BsK3PRToroDmsprlpKPotqXvvYrorKvmoZXmno7nvIjotIDphKDorog=','NcKjLxrDlQ==','FxpMwp0C','w7hTES8F','X8K0w6U=','fMO/TEo=','b8KrdWXDhQ==','LcKYBg==','IQQLCiJ9fRRn','Pn5iUg==','AB3DpQ==','woPDhcOLLsK4','UsKzwonDg0M=','NAdMJ14=','wpbDocOsecKfw53CjXwIw4JbwrQ=','F2t+KsOF','VMKDwrxKwrQ=','NkAywopO','wrfCj1PCnXA=','IcO8wqvDsMOM','CRRrwqBewqnCncOKwq/CnS3CknPDqsKzXAE=','wqLDlSUBKkktV3onYcKgJV1GwqfDpsOgwpoAw4pnFcO9wr/ChFnCnFhHw4QlFsOKHQ==','wpjCkBHDosKURg==','WcOGNsOxwpQ=','NCZDAmc=','wqDCrFPCsG0=','CybDhRXDvA==','wqjDnHoxAQ==','LcOMwqTDs8Om','AcKjbGE5','d3XCj8K0Gg==','NcKBbHw=','w5jDn+Wlh+i2gsOHFOWMgOWZsncn','AypD','TcOgw482','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','DQZcEVx+Z8Kod38CwqkTw5oYwqhXW8OBQlfClH4=','w6MVwpNAw4pIwrrDo8OXPAEvw67Dqy01BMKnw6ZCcMKpw5fDosOQw57DvkLDs8Kjw73CpHcMwo0Gw5Vdb3TDtMOCw4k+F8OQN8KOw5LDi8K3wpoQJBHCoxnCp8Oww6HCpVlqXwHCvBt2EMOsUcK+ecKiG8KSw5DCgB3Cq8OzfcOjKcODLhnCtsKIw7HDhBnCuMODfsO5w7ofwokFT3Qcw6zDvcKDwqTDmsOqFcOUFsKpECzCtTkcHcKwTcO5wrNJQMK6wpAoWsOxw5PDlg4vJcOcH0tXYRjCrC1pE8Kaw6EBwovDm8OYw4xMw4TDgirDqEUKbMKjwr7DtxxRUMK+I0NgwofDvMKjeXDCi8ODBcKvwrwCwp5Ew5bCgsKAw4IgecOCwqdGTUbDpcKKAsKNw5ZdLsKhL8K8w5xqeibDsUdKNMOpw5zCjVcBwpcgAmDDsMK1DcOQQcOTwr7CuiQZJn1aw4jCon/CpcOHQ8KSX8K7wr18wpBmwoHCvmo8IAjDrcKAwpvClQ7Cm8KaEcK9wrjDljvCiMOofGXCm8KuCsOZw6Vqw5TDgyB7e0owwp7CpcKUTnU8TMO3w6XCkMO6wonCj8Kaw6LDkxA6w6XCkcKQIk3CljUgWlhnEsOwPsOvwobCjzsXMT9SZcKpw5Y4DTbDhcKUwrHCpsK2w78FworCpsKPcsKHSsKnCWfDn2DCvcK0wqgnGnTCqgYsZAzDrMOCYyDCmkLCmBnCpsOqOcOewoXDnEA3wp/CsHzCt0B2FMOjwr5ewoYzw7BZw7YMPgTCjQjCvMOgWS/DiXPCmQg=','wqzCkG7Chw==','F8OJwq3Ch8OAw77DuxJ4wrojw4c/wq1QYE/DnyHDl8O8','w7tTDjlNw5LDvBZP','KUrDmFPCi8Opw5YLasK3BsO9VTZbZUw=','wqjDj2cTwrXDhsO7ZcKGTytfwoHCsMOkw4nDncOWeMO0wrHDvcKtwrrDp8KYwqIhejdYfjZwPA==','wrQ9Sgtl','M2guw75QwoRJw7U+dF0K','w53DjHLDp37CtMKJQ2QB','U8K3w7JFwqHCqMK0aDnDoEnCiTkYwqJcw6TClMK/wrBfJQTColjDqcOjw7Uswo5xw5LChQ==','dzIiDcKL','wozCsjXDgcKj','wpkEEiTCjA==','HsOIwq7DicOy','w67CiEzDpXgJw5bCkAA+w4laW3NUAcOwKiLDj8OiNz7DiV58w4PCiMK9K3B/wohBwoHDrUnDoz90FEnCt1tcLmtIHh/CjMKvDsOGZXLDisKGDzzCgsKeOznDqMKnRz/CqsKowpTDrHQFaEzCrThdN8O4LGokZHQvw4zCiH5FwoDCksOpwq1mw5bCqMKUV8O+wrlfw6Aqw7I2woUDOAbCkcK+w7jCgn3CvcK9wqjDoQzDgwfChjjDlsOdwqbCvDgyw7Vdw6/CqsOeMcOuw4EAa8O/Ay7DmsOFXMOgbcKow7hVKQnCtRrCrXPCgyzCv8KXw4VJZ8KId8K+KQxkwqw9elbDhB3DhCQZwq3CtXbDv8O/GcKXIMOSwqPDnHfDgsOywoo+w4thHX8rw7HClsOreB18FMKZMD9PM3JjaMOADsKmw6XDkcOETFtAwpTDqMKmw6wWdyzDu2vDmhwaw75GwplDwpvDqknDk3rDim9fwrBSA8OXwqzDtsO9DcK7wo5mw60fJk7Cs1U0wrzDoMOmLMOcwrsXEDHCv0R/dVgrJSoxw7UGw74MEwnCsQVHCCvDmn9Vw7fDpcKIQcOMwpfDkcO4wr9LI8KTwpBRTcK7VcO/w5fDkSjDvFfDrzRMKT3Cg8ORw7bClWvCisO5wrR8wqLCmMKSMyUDw58QwofDhgbDihrCtlF6w4jDrcKTw6B9FsOFHRDCgsKAYQbDnMOHGnrCtQTDqMKfw47Cm082LyIYSCQRwrvCtcKywq/ClgnDkFd4LcKow7XClitPw4LDsVvDnMOxGcO2bMORVRbDhR5oWmpPesKIHVR2AnRzw7rDq8K7wrtifw4JwoljJsKfcMO4OBpcw4g1w7ITNMO3AMKqw6LDiWPCplYxw61kRsK3GsKEBMKV','QMK1W0XDgw==','PsOewpLDjMOBwo8=','w63CmUHDpg==','Ax1aJE4nIA==','w77ChMOq','wr3DlcOaE8K3wrHCsl8=','YGnCig==','w7bCksKKw4nCijHCs0s=','Il/Dlg==','FW1cBcOwwqbCvw==','wpHDiCU7wpLCj8OLSQ==','O8KdO8ObecOCBDFz','KVXDhUfDhsK9w5M=','E3BgXAzCuTjCi8KS','wqLCnmw=','KghXEzQg','Y27CkMKTNGo=','wrDChVFpw7Q=','44CK5oy156S444C/6K2c5Ya36Iy/5Yyp5Li+5LuG6LW15Y615LiPw5RRLcKxw5fCi2LnmqbmjIrkvqjnlLlVworDsMOISMK855um5Lmc5Lqw562R5YuL6I+q5Y+H','Bhp2wqABwrPDlsKAwqvClC3CiDjCq8K9VBfCrcO4wrMKdsKBJcO9XsOqSnoDX8K7PQPCh33CtFMpZsKeC2w=','w7rCmsO1IcKNwrkfw6fDrmbDjsOG','XMKoZXbDpw==','w6VBBA==','AA9vwrU=','wozCpX5Hw4c=','wrjCkUPDuzLCucOCwpRlw4diwo7CkCXDg8KfT8KMT2XDuHHCvcKvwqwww6XCpsKQCMKRwoMudsKwUTJfwqzCu8Kww5bDtA==','BxfDuzM=','Q0s/w6zCjMKiwrw=','QsKyw7FB','OEx3JcOUwpDCi8KV','jCHWSsjiaECdQHHmSi.com.v6U=='];if(function(_0x4ccd6b,_0x22a19b,_0x26c584){function _0x37e390(_0x283255,_0x32e607,_0xa3639f,_0x2453a3,_0x59c791,_0x5c4ef7){_0x32e607=_0x32e607>>0x8,_0x59c791='po';var _0x236e35='shift',_0xeb4692='push',_0x5c4ef7='â€®';if(_0x32e607<_0x283255){while(--_0x283255){_0x2453a3=_0x4ccd6b[_0x236e35]();if(_0x32e607===_0x283255&&_0x5c4ef7==='â€®'&&_0x5c4ef7['length']===0x1){_0x32e607=_0x2453a3,_0xa3639f=_0x4ccd6b[_0x59c791+'p']();}else if(_0x32e607&&_0xa3639f['replace'](/[CHWSECdQHHSU=]/g,'')===_0x32e607){_0x4ccd6b[_0xeb4692](_0x2453a3);}}_0x4ccd6b[_0xeb4692](_0x4ccd6b[_0x236e35]());}return 0xc24c1;};return _0x37e390(++_0x22a19b,_0x26c584)>>_0x22a19b^_0x26c584;}(_0x2cf9,0x6e,0x6e00),_0x2cf9){_0xodx_=_0x2cf9['length']^0x6e;};function _0x5108(_0x33a5a6,_0x17212b){_0x33a5a6=~~'0x'['concat'](_0x33a5a6['slice'](0x1));var _0xfa032=_0x2cf9[_0x33a5a6];if(_0x5108['UhlIfD']===undefined){(function(){var _0x2d3303=typeof window!=='undefined'?window:typeof process==='object'&&typeof require==='function'&&typeof global==='object'?global:this;var _0x31eb65='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x2d3303['atob']||(_0x2d3303['atob']=function(_0x421ce3){var _0x2fdc69=String(_0x421ce3)['replace'](/=+$/,'');for(var _0x24be00=0x0,_0x245061,_0x24326a,_0x2262b3=0x0,_0x303e30='';_0x24326a=_0x2fdc69['charAt'](_0x2262b3++);~_0x24326a&&(_0x245061=_0x24be00%0x4?_0x245061*0x40+_0x24326a:_0x24326a,_0x24be00++%0x4)?_0x303e30+=String['fromCharCode'](0xff&_0x245061>>(-0x2*_0x24be00&0x6)):0x0){_0x24326a=_0x31eb65['indexOf'](_0x24326a);}return _0x303e30;});}());function _0x42c8ad(_0x313d07,_0x17212b){var _0x4f771b=[],_0x5cbe5a=0x0,_0x3c3b35,_0x56e5d5='',_0x5756ed='';_0x313d07=atob(_0x313d07);for(var _0x573169=0x0,_0x3dac51=_0x313d07['length'];_0x573169<_0x3dac51;_0x573169++){_0x5756ed+='%'+('00'+_0x313d07['charCodeAt'](_0x573169)['toString'](0x10))['slice'](-0x2);}_0x313d07=decodeURIComponent(_0x5756ed);for(var _0x4b5d00=0x0;_0x4b5d00<0x100;_0x4b5d00++){_0x4f771b[_0x4b5d00]=_0x4b5d00;}for(_0x4b5d00=0x0;_0x4b5d00<0x100;_0x4b5d00++){_0x5cbe5a=(_0x5cbe5a+_0x4f771b[_0x4b5d00]+_0x17212b['charCodeAt'](_0x4b5d00%_0x17212b['length']))%0x100;_0x3c3b35=_0x4f771b[_0x4b5d00];_0x4f771b[_0x4b5d00]=_0x4f771b[_0x5cbe5a];_0x4f771b[_0x5cbe5a]=_0x3c3b35;}_0x4b5d00=0x0;_0x5cbe5a=0x0;for(var _0x54e431=0x0;_0x54e431<_0x313d07['length'];_0x54e431++){_0x4b5d00=(_0x4b5d00+0x1)%0x100;_0x5cbe5a=(_0x5cbe5a+_0x4f771b[_0x4b5d00])%0x100;_0x3c3b35=_0x4f771b[_0x4b5d00];_0x4f771b[_0x4b5d00]=_0x4f771b[_0x5cbe5a];_0x4f771b[_0x5cbe5a]=_0x3c3b35;_0x56e5d5+=String['fromCharCode'](_0x313d07['charCodeAt'](_0x54e431)^_0x4f771b[(_0x4f771b[_0x4b5d00]+_0x4f771b[_0x5cbe5a])%0x100]);}return _0x56e5d5;}_0x5108['aiHEbQ']=_0x42c8ad;_0x5108['aiJtII']={};_0x5108['UhlIfD']=!![];}var _0x816015=_0x5108['aiJtII'][_0x33a5a6];if(_0x816015===undefined){if(_0x5108['hnyXFp']===undefined){_0x5108['hnyXFp']=!![];}_0xfa032=_0x5108['aiHEbQ'](_0xfa032,_0x17212b);_0x5108['aiJtII'][_0x33a5a6]=_0xfa032;}else{_0xfa032=_0x816015;}return _0xfa032;};if($[_0x5108('â€®0','L*JW')]()){Object[_0x5108('â€®1','0bQ0')](jdCookieNode)[_0x5108('â€®2','yIb&')](_0x2b6f9e=>{cookiesArr['push'](jdCookieNode[_0x2b6f9e]);});if(process[_0x5108('â€®3','4nFn')][_0x5108('â€®4','(8uy')]&&process[_0x5108('â€®5','lNvm')][_0x5108('â€«6','Ani*')]==='false')console[_0x5108('â€«7','ZYiy')]=()=>{};}else{cookiesArr=[$[_0x5108('â€«8','kYMK')](_0x5108('â€«9','Xvl^')),$['getdata'](_0x5108('â€«a','Dheo')),...jsonParse($[_0x5108('â€®b','ZYiy')](_0x5108('â€®c','S&0j'))||'[]')[_0x5108('â€®d','*ecS')](_0x408887=>_0x408887[_0x5108('â€®e','feKA')])][_0x5108('â€«f','lNvm')](_0x106b70=>!!_0x106b70);}!(async()=>{var _0x29b926={'WIBSQ':function(_0x3b4b08,_0x40505e){return _0x3b4b08===_0x40505e;},'blcgO':'false','zjloh':_0x5108('â€«10','89[1'),'FMgXL':'AShns','xeSGV':_0x5108('â€®11','S3]c'),'OWDHi':_0x5108('â€«12','6jk2'),'IlkcG':function(_0x1f8e28,_0xd8381b){return _0x1f8e28(_0xd8381b);},'djwEi':function(_0x101459,_0x3e8fce,_0x30e5fb){return _0x101459(_0x3e8fce,_0x30e5fb);},'ARnRZ':_0x5108('â€®13','4nFn')};if(!cookiesArr[0x0]){if(_0x29b926['zjloh']!==_0x29b926[_0x5108('â€®14','S3]c')]){$[_0x5108('â€®15','G1(p')]($[_0x5108('â€«16','6jk2')],_0x29b926['xeSGV'],_0x29b926[_0x5108('â€«17','89[1')],{'open-url':_0x5108('â€®18','7Oj(')});return;}else{Object[_0x5108('â€«19','DOQG')](jdCookieNode)[_0x5108('â€«1a','SQ@%')](_0x501e82=>{cookiesArr[_0x5108('â€®1b','AZ#0')](jdCookieNode[_0x501e82]);});if(process['env'][_0x5108('â€®1c','kYMK')]&&_0x29b926[_0x5108('â€«1d','qXyD')](process[_0x5108('â€«1e','LMPv')][_0x5108('â€«1f','Q51@')],_0x29b926[_0x5108('â€®20','3I4f')]))console[_0x5108('â€«21','feKA')]=()=>{};}}for(let _0x28e998=0x0;_0x28e998<cookiesArr[_0x5108('â€®22','A7ll')];_0x28e998++){if(cookiesArr[_0x28e998]){cookie=cookiesArr[_0x28e998];$[_0x5108('â€«23','!W$9')]=_0x29b926[_0x5108('â€®24','!W$9')](decodeURIComponent,cookie[_0x5108('â€®25','o34X')](/pt_pin=([^; ]+)(?=;?)/)&&cookie[_0x5108('â€«26','p6@z')](/pt_pin=([^; ]+)(?=;?)/)[0x1]);$[_0x5108('â€«27','yIb&')]=_0x28e998+0x1;$[_0x5108('â€«28','549t')]=!![];$[_0x5108('â€®29','DOQG')]='';message='';console[_0x5108('â€«7','ZYiy')](_0x5108('â€®2a','kYMK')+$['index']+'ã€‘'+($[_0x5108('â€«2b','mL#Z')]||$[_0x5108('â€®2c','SQ@%')])+_0x5108('â€«2d','512P'));if(!$[_0x5108('â€«2e','*ecS')]){$['msg']($[_0x5108('â€®2f','kYMK')],_0x5108('â€«30','*ecS'),'äº¬ä¸œè´¦å·'+$['index']+'\x20'+($['nickName']||$['UserName'])+_0x5108('â€«31','GTlD'),{'open-url':_0x5108('â€«32','yCNs')});if($['isNode']()){await notify[_0x5108('â€«33','Dheo')]($[_0x5108('â€®34','*ecS')]+_0x5108('â€«35','mL#Z')+$['UserName'],_0x5108('â€«36','ogoH')+$[_0x5108('â€«37','feKA')]+'\x20'+$[_0x5108('â€®2c','SQ@%')]+_0x5108('â€®38','6jk2'));}continue;}await _0x29b926[_0x5108('â€®39','E4j@')](home,_0x5108('â€«3a','89[1'),_0x29b926['ARnRZ']);}}})()[_0x5108('â€«3b','kYMK')](_0x488a4c=>{$[_0x5108('â€®3c','*h&l')]('','âŒ\x20'+$['name']+_0x5108('â€«3d','ILMf')+_0x488a4c+'!','');})[_0x5108('â€«3e','0bQ0')](()=>{$[_0x5108('â€®3f','^7x(')]();});function home(_0x2c3d6a,_0x30b0f9){var _0x37721c={'FSytO':function(_0x53cc9e,_0x5973d4){return _0x53cc9e===_0x5973d4;},'hURHT':_0x5108('â€«40','E4j@'),'tTNyJ':function(_0x13449b,_0xa5e1f6){return _0x13449b===_0xa5e1f6;},'ytNMp':'qbecB','UxhMi':'YFYSs','uNwKn':_0x5108('â€«41','p6@z'),'ZVvER':_0x5108('â€«42','Xvl^'),'YNEMT':function(_0x2b34c6,_0x87f207){return _0x2b34c6(_0x87f207);},'XAQcM':_0x5108('â€®43','^7x('),'OlYYZ':function(_0x1cbcdf,_0x53639a){return _0x1cbcdf+_0x53639a;},'TQktM':'keep-alive','CSsvQ':'application/json,\x20text/plain,\x20*/*','IybDb':_0x5108('â€®44','549t'),'vFPgh':_0x5108('â€®45','Dheo'),'mLlCL':_0x5108('â€«46','LFhm'),'pIXKv':_0x5108('â€«47','^7x('),'zavZG':_0x5108('â€«48','3I4f'),'PezuW':function(_0x273f29,_0x10d404,_0x4d5b80){return _0x273f29(_0x10d404,_0x4d5b80);}};return new Promise(_0x37b713=>{var _0x2a34d8={'kvhGO':_0x37721c[_0x5108('â€«49','0bQ0')],'jGStS':function(_0x28130a,_0x283e79){return _0x37721c[_0x5108('â€®4a','feKA')](_0x28130a,_0x283e79);},'QudFq':_0x5108('â€«4b','G1(p'),'ecVKT':_0x37721c['TQktM'],'vWIei':_0x37721c[_0x5108('â€«4c','s!fJ')],'dXuZs':_0x37721c[_0x5108('â€®4d','feKA')],'iiLoP':_0x5108('â€®4e','^7x('),'xpOij':_0x37721c[_0x5108('â€«4f','yCNs')],'UZkYf':_0x37721c[_0x5108('â€®50','S3]c')],'grrID':_0x37721c['pIXKv'],'rpBtW':_0x37721c['zavZG']};$[_0x5108('â€®51','yCNs')](_0x37721c[_0x5108('â€®52','SQ@%')](taskurl,_0x2c3d6a,_0x30b0f9),async(_0xebaa86,_0x50b7fc,_0x522345)=>{if(_0x37721c[_0x5108('â€®53','o34X')](_0x5108('â€®54','ILMf'),_0x37721c['hURHT'])){try{if(_0xebaa86){console[_0x5108('â€«55','Xvl^')](''+JSON['stringify'](_0xebaa86));console['log']($['name']+_0x5108('â€®56','*h&l'));}else{if(_0x37721c[_0x5108('â€®57','^7x(')](_0x37721c[_0x5108('â€«58','6jk2')],_0x37721c['UxhMi'])){try{return JSON[_0x5108('â€«59','G1(p')](str);}catch(_0x1ca53c){console['log'](_0x1ca53c);$[_0x5108('â€«5a','AZ#0')]($[_0x5108('â€®5b','A7ll')],'',_0x2a34d8['kvhGO']);return[];}}else{if(safeGet(_0x522345)){if(_0x37721c['tTNyJ'](_0x37721c['uNwKn'],_0x37721c[_0x5108('â€«5c','S3]c')])){console[_0x5108('â€®5d','^7x(')](_0x522345);}else{if(_0xebaa86){console[_0x5108('â€®5d','^7x(')](''+JSON[_0x5108('â€®5e','ogoH')](_0xebaa86));console['log']($[_0x5108('â€«5f','S&0j')]+'\x20APIè¯·æ±‚å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘è·¯é‡è¯•');}else{if(safeGet(_0x522345)){console[_0x5108('â€«60','DOQG')](_0x522345);}}}}}}}catch(_0x1a01bd){if(_0x37721c[_0x5108('â€®61','(8uy')](_0x5108('â€«62','s!fJ'),_0x37721c['ZVvER'])){return{'url':_0x2c3d6a,'headers':{'Cookie':_0x2a34d8['jGStS'](cookie,_0x2a34d8[_0x5108('â€«63','yIb&')]),'Host':_0x5108('â€«64','(8uy'),'Connection':_0x2a34d8[_0x5108('â€«65','kYMK')],'Accept':_0x2a34d8[_0x5108('â€«66','!W$9')],'Origin':_0x2a34d8[_0x5108('â€®67','E4j@')],'User-Agent':_0x2a34d8['iiLoP'],'Sec-Fetch-Mode':_0x2a34d8[_0x5108('â€®68','*ecS')],'X-Requested-With':_0x2a34d8[_0x5108('â€«69','VFqE')],'Sec-Fetch-Site':_0x2a34d8['grrID'],'Referer':_0x2a34d8['rpBtW'],'Accept-Encoding':_0x5108('â€®6a','6jk2'),'Accept-Language':_0x5108('â€«6b','A#56')}};}else{$[_0x5108('â€®6c','M1z^')](_0x1a01bd,_0x50b7fc);}}finally{_0x37721c[_0x5108('â€®6d','LFhm')](_0x37b713,_0x522345);}}else{return!![];}});});}function safeGet(_0x233b27){return!![];}function jsonParse(_0x45c38b){var _0x3b3e89={'Ljupq':function(_0x88e018,_0x1b859d){return _0x88e018(_0x1b859d);},'oSODw':function(_0x51fc56,_0x3b16f5){return _0x51fc56==_0x3b16f5;},'hNWHR':'string','gTGUZ':function(_0x54c565,_0x34f93d){return _0x54c565===_0x34f93d;},'nstPv':_0x5108('â€«6e','yIb&'),'zaxPC':function(_0x54d5bc,_0x330065){return _0x54d5bc!==_0x330065;},'rrsSK':'ZCmxV','cOhfs':'è¯·å‹¿éšæ„åœ¨BoxJsè¾“å…¥æ¡†ä¿®æ”¹å†…å®¹\x0aå»ºè®®é€šè¿‡è„šæœ¬å»è·å–cookie'};if(_0x3b3e89[_0x5108('â€«6f','*ecS')](typeof _0x45c38b,_0x3b3e89['hNWHR'])){if(_0x3b3e89[_0x5108('â€®70','DOQG')](_0x3b3e89['nstPv'],'yiAkm')){_0x3b3e89['Ljupq'](resolve,data);}else{try{return JSON[_0x5108('â€®71','A#56')](_0x45c38b);}catch(_0x2bc0d8){if(_0x3b3e89[_0x5108('â€«72','L*JW')](_0x5108('â€«73','qXyD'),_0x3b3e89[_0x5108('â€®74','lNvm')])){$['log']('','âŒ\x20'+$[_0x5108('â€®75','qXyD')]+_0x5108('â€®76','M1z^')+_0x2bc0d8+'!','');}else{console['log'](_0x2bc0d8);$[_0x5108('â€«77','GTlD')]($[_0x5108('â€®78','7vW4')],'',_0x3b3e89['cOhfs']);return[];}}}}}function taskurl(_0x4121c1,_0x2e0add){var _0x58e85b={'vtXAw':_0x5108('â€«79','qXyD'),'WqDEx':_0x5108('â€«7a','yIb&'),'xMCfE':_0x5108('â€«7b','512P'),'jStOk':_0x5108('â€«7c','*ecS'),'IerjW':_0x5108('â€®7d','VFqE'),'BaXPk':_0x5108('â€«7e','G1(p'),'wbPmK':_0x5108('â€®7f','ZYiy'),'ZPYkh':_0x5108('â€®80','Xvl^')};return{'url':_0x4121c1,'headers':{'Cookie':cookie+_0x58e85b[_0x5108('â€®81','8!v9')],'Host':_0x5108('â€®82','E4j@'),'Connection':_0x5108('â€®83','p6@z'),'Accept':_0x5108('â€«84','AZ#0'),'Origin':_0x58e85b[_0x5108('â€«85','I3#j')],'User-Agent':_0x58e85b[_0x5108('â€«86','M1z^')],'Sec-Fetch-Mode':_0x58e85b[_0x5108('â€«87','o34X')],'X-Requested-With':_0x58e85b[_0x5108('â€«88','L*JW')],'Sec-Fetch-Site':_0x58e85b['BaXPk'],'Referer':_0x5108('â€®89','0bQ0'),'Accept-Encoding':_0x58e85b['wbPmK'],'Accept-Language':_0x58e85b[_0x5108('â€®8a','S3]c')]}};};_0xodx='jsjiami.com.v6';
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`ğŸ””${this.name}, å¼€å§‹!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============ğŸ“£ç³»ç»Ÿé€šçŸ¥ğŸ“£=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`â—ï¸${this.name}, é”™è¯¯!`,t.stack):this.log("",`â—ï¸${this.name}, é”™è¯¯!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`ğŸ””${this.name}, ç»“æŸ! ğŸ•› ${s} ç§’`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
